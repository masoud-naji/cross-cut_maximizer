{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\React\\\\practic\\\\testmuknowladge\\\\src\\\\Components\\\\User\\\\SearchUserListEditable.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport MyAvator from \"../CustomHooks/MyAvator\";\nimport style from \"./UsersList.module.css\";\nimport Card from \"../UI/Card\";\nimport Button from \"../UI/Button\";\nimport { Fragment } from \"react\";\nimport ReadOnlyRow from \"./UserEdit/ReadOnlyRow\";\nimport EditableOnlyRow from \"./UserEdit/EditableRow\";\nimport Pagination from \"../UI/pagination\";\nimport Paginate from \"../CustomHooks/Paginate\";\n\nfunction SearchUserListEditable(props) {\n  _s();\n\n  const [data, setData] = useState(null);\n  const [isPending, setIsPending] = useState(true);\n  const [error, setError] = useState(null);\n  const url = \"http://localhost:8000/AllUsers\";\n  const [isediting, setIsediting] = useState();\n  const [name, setName] = useState(\"\");\n  const [foundUsers, setFoundUsers] = useState(props.Users);\n  const [rowEditing, setRowEditing] = useState(null);\n  const [pageSize, setPageSize] = useState(15);\n  const [currentPage, setCurrentPage] = useState(1);\n  const paginatedFilteredUsers = Paginate(foundUsers, currentPage, pageSize);\n  const [editFormData, setEditFormData] = useState({\n    first_name: \"\",\n    last_name: \"\",\n    time: \"\",\n    email: \"\",\n    Job: \"\",\n    DateOfBirth: \"\",\n    donate: \"\"\n  }); /////////////////////////////////////////////////Edit Rows////////////////////////////////////\n\n  const editFormChangeHandler = event => {\n    const filedName = event.target.getAttribute(\"name\");\n    const fieldValue = event.target.value;\n    const newFormData = { ...editFormData\n    };\n    newFormData[filedName] = fieldValue;\n    setEditFormData(newFormData);\n  };\n\n  const editFormHandler = editFormData => {\n    setRowEditing(editFormData.id);\n    const formValues = {\n      first_name: editFormData.first_name,\n      last_name: editFormData.last_name,\n      time: editFormData.time,\n      email: editFormData.email,\n      Job: editFormData.Job,\n      DateOfBirth: editFormData.DateOfBirth,\n      donate: editFormData.donate\n    };\n    setEditFormData(formValues);\n  };\n\n  const editFormSubmit = user => {\n    const Avator = MyAvator(`${editFormData.first_name.charAt(0)}${editFormData.last_name.charAt(0)}`, `${\"#\" + ((1 << 24) * Math.random() | 0).toString(16)}`, `${\"#\" + ((1 << 24) * Math.random() | 0).toString(16)}`);\n    setIsPending(true);\n    const editUser = {\n      Avator,\n      id: rowEditing,\n      first_name: editFormData.first_name,\n      last_name: editFormData.last_name,\n      time: editFormData.time,\n      email: editFormData.email,\n      Job: editFormData.Job,\n      DateOfBirth: editFormData.DateOfBirth,\n      donate: editFormData.donate\n    };\n    fetch(url + \"/\" + editUser.id, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(editUser)\n    }).then(() => {\n      setIsPending(false);\n      setData(data);\n      setError(null);\n      setRowEditing(null);\n      props.onClick();\n    }).catch(err => {\n      setIsPending(false);\n      setError(err.message);\n    });\n    console.log(`\"eror is \" ${error}`);\n  }; /////////////////////////////////////////////// End of Edit Rows///////////////////////////////////////////////\n  //////////////////////////////////////////// search by filter//////////////////////////////////////////////////\n\n\n  const filter = event => {\n    const keyword = event.target.value;\n\n    if (keyword !== \"\") {\n      const results = props.Users.filter(user => {\n        return user.first_name.toLowerCase().startsWith(keyword.toLowerCase()); // Use the toLowerCase() method to make it case-insensitive\n      });\n      setFoundUsers(results);\n    } else {\n      setFoundUsers(props.Users); // If the text field is empty, show all users\n    }\n\n    setName(keyword);\n  }; ///////////////////////////////////toggle edit table//////////////////////////////////////////////////////\n\n\n  const enableEdit = () => {\n    setIsediting(true);\n  };\n\n  const disableEdit = () => {\n    setIsediting(false);\n  }; ////////////////////////////////////Pagination////////////////////////////////////////////////////////////\n\n\n  const PageChangeHandler = page => {\n    setCurrentPage(page);\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    className: style.users,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: style.tableContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, foundUsers && /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, \"Currently Table Contain \", foundUsers.length, \" Records\"), /*#__PURE__*/React.createElement(Fragment, {\n    className: style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"search\",\n    value: name,\n    id: style.myInput,\n    onChange: filter,\n    placeholder: \"Search for names..\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Pagination, {\n    itemsCount: foundUsers.length,\n    pageSize: pageSize,\n    onPageChange: PageChangeHandler,\n    currentPage: currentPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 14\n    }\n  })), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: style.userTable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, \"Avator\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, \"Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, \"Time\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }\n  }, \"JOB\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }\n  }, \"Birthday\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, \"Donate\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }, isediting ? /*#__PURE__*/React.createElement(Button, {\n    onClick: disableEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }, \"Done\") : /*#__PURE__*/React.createElement(Button, {\n    onClick: enableEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 21\n    }\n  }, \"Edit\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }, foundUsers && foundUsers.length > 0 ? paginatedFilteredUsers.map(user => rowEditing === user.id ? /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(EditableOnlyRow, {\n    user: user,\n    isediting: isediting,\n    Ondelete: props.Ondelete,\n    editFormData: editFormData,\n    editFormChangeHandler: editFormChangeHandler,\n    onSave: editFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 23\n    }\n  })) : /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ReadOnlyRow, {\n    user: user,\n    isediting: isediting,\n    rowEditing: editFormHandler,\n    Ondelete: props.Ondelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 23\n    }\n  }))) : /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }\n  }, \"No results found!\"))))));\n}\n\n_s(SearchUserListEditable, \"p7onD3mBGbVxCMkq2ukox4MGMvc=\");\n\n_c = SearchUserListEditable;\nexport default SearchUserListEditable;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchUserListEditable\");","map":{"version":3,"sources":["D:/Project/React/practic/testmuknowladge/src/Components/User/SearchUserListEditable.jsx"],"names":["React","useEffect","useState","MyAvator","style","Card","Button","Fragment","ReadOnlyRow","EditableOnlyRow","Pagination","Paginate","SearchUserListEditable","props","data","setData","isPending","setIsPending","error","setError","url","isediting","setIsediting","name","setName","foundUsers","setFoundUsers","Users","rowEditing","setRowEditing","pageSize","setPageSize","currentPage","setCurrentPage","paginatedFilteredUsers","editFormData","setEditFormData","first_name","last_name","time","email","Job","DateOfBirth","donate","editFormChangeHandler","event","filedName","target","getAttribute","fieldValue","value","newFormData","editFormHandler","id","formValues","editFormSubmit","user","Avator","charAt","Math","random","toString","editUser","fetch","method","headers","body","JSON","stringify","then","onClick","catch","err","message","console","log","filter","keyword","results","toLowerCase","startsWith","enableEdit","disableEdit","PageChangeHandler","page","users","tableContainer","length","myInput","userTable","map","Ondelete"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport MyAvator from \"../CustomHooks/MyAvator\";\r\nimport style from \"./UsersList.module.css\";\r\nimport Card from \"../UI/Card\";\r\nimport Button from \"../UI/Button\";\r\nimport { Fragment } from \"react\";\r\nimport ReadOnlyRow from \"./UserEdit/ReadOnlyRow\";\r\nimport EditableOnlyRow from \"./UserEdit/EditableRow\";\r\nimport Pagination from \"../UI/pagination\";\r\nimport Paginate from \"../CustomHooks/Paginate\";\r\n\r\nfunction SearchUserListEditable(props) {\r\n  const [data, setData] = useState(null);\r\n  const [isPending, setIsPending] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const url = \"http://localhost:8000/AllUsers\";\r\n  const [isediting, setIsediting] = useState();\r\n  const [name, setName] = useState(\"\");\r\n  const [foundUsers, setFoundUsers] = useState(props.Users);\r\n  const [rowEditing, setRowEditing] = useState(null);\r\n  const [pageSize, setPageSize] = useState(15);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const paginatedFilteredUsers = Paginate(foundUsers, currentPage, pageSize);\r\n  const [editFormData, setEditFormData] = useState({\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n    time: \"\",\r\n    email: \"\",\r\n    Job: \"\",\r\n    DateOfBirth: \"\",\r\n    donate: \"\",\r\n  });\r\n  /////////////////////////////////////////////////Edit Rows////////////////////////////////////\r\n  const editFormChangeHandler = (event) => {\r\n    const filedName = event.target.getAttribute(\"name\");\r\n    const fieldValue = event.target.value;\r\n\r\n    const newFormData = { ...editFormData };\r\n    newFormData[filedName] = fieldValue;\r\n    setEditFormData(newFormData);\r\n  };\r\n\r\n  const editFormHandler = (editFormData) => {\r\n    setRowEditing(editFormData.id);\r\n\r\n    const formValues = {\r\n      first_name: editFormData.first_name,\r\n      last_name: editFormData.last_name,\r\n      time: editFormData.time,\r\n      email: editFormData.email,\r\n      Job: editFormData.Job,\r\n      DateOfBirth: editFormData.DateOfBirth,\r\n      donate: editFormData.donate,\r\n    };\r\n    setEditFormData(formValues);\r\n  };\r\n\r\n  const editFormSubmit = (user) => {\r\n    const Avator = MyAvator(\r\n      `${editFormData.first_name.charAt(0)}${editFormData.last_name.charAt(0)}`,\r\n      `${\"#\" + (((1 << 24) * Math.random()) | 0).toString(16)}`,\r\n      `${\"#\" + (((1 << 24) * Math.random()) | 0).toString(16)}`\r\n    );\r\n    setIsPending(true);\r\n\r\n    const editUser = {\r\n      Avator,\r\n      id: rowEditing,\r\n      first_name: editFormData.first_name,\r\n      last_name: editFormData.last_name,\r\n      time: editFormData.time,\r\n      email: editFormData.email,\r\n      Job: editFormData.Job,\r\n      DateOfBirth: editFormData.DateOfBirth,\r\n      donate: editFormData.donate,\r\n    };\r\n\r\n    fetch(url + \"/\" + editUser.id, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(editUser),\r\n    })\r\n      .then(() => {\r\n        setIsPending(false);\r\n        setData(data);\r\n        setError(null);\r\n        setRowEditing(null);\r\n        props.onClick();\r\n      })\r\n      .catch((err) => {\r\n        setIsPending(false);\r\n        setError(err.message);\r\n      });\r\n    console.log(`\"eror is \" ${error}`);\r\n  };\r\n  /////////////////////////////////////////////// End of Edit Rows///////////////////////////////////////////////\r\n  //////////////////////////////////////////// search by filter//////////////////////////////////////////////////\r\n  const filter = (event) => {\r\n    const keyword = event.target.value;\r\n\r\n    if (keyword !== \"\") {\r\n      const results = props.Users.filter((user) => {\r\n        return user.first_name.toLowerCase().startsWith(keyword.toLowerCase());\r\n        // Use the toLowerCase() method to make it case-insensitive\r\n      });\r\n      setFoundUsers(results);\r\n    } else {\r\n      setFoundUsers(props.Users);\r\n      // If the text field is empty, show all users\r\n    }\r\n    setName(keyword);\r\n  };\r\n\r\n  ///////////////////////////////////toggle edit table//////////////////////////////////////////////////////\r\n  const enableEdit = () => {\r\n    setIsediting(true);\r\n  };\r\n  const disableEdit = () => {\r\n    setIsediting(false);\r\n  };\r\n  ////////////////////////////////////Pagination////////////////////////////////////////////////////////////\r\n  const PageChangeHandler = (page) => {\r\n    setCurrentPage(page);\r\n  };\r\n\r\n  return (\r\n    <Card className={style.users}>\r\n      <div className={style.tableContainer}>\r\n        {foundUsers && (\r\n          <h3>\r\n            Currently Table Contain {foundUsers.length} Records\r\n            {/* <br /> Total Selected Debt is {getFormattedPrice(total)} */}\r\n          </h3>\r\n        )}\r\n        <Fragment className={style}>\r\n        <input\r\n          type=\"search\"\r\n          value={name}\r\n          id={style.myInput}\r\n          onChange={filter}\r\n          placeholder=\"Search for names..\"\r\n        />\r\n             <Pagination\r\n            itemsCount={foundUsers.length}\r\n            pageSize={pageSize}\r\n            onPageChange={PageChangeHandler}\r\n            currentPage={currentPage}\r\n          />\r\n          </Fragment>\r\n        <form>\r\n          <table className={style.userTable}>\r\n            <thead>\r\n              <tr>\r\n                <th>Avator</th>\r\n                <th>First Name</th>\r\n                <th>Last Name</th>\r\n                <th>Time</th>\r\n                <th>Email</th>\r\n                <th>JOB</th>\r\n                <th>Birthday</th>\r\n                <th>Donate</th>\r\n                <th>\r\n                  {isediting ? (\r\n                    <Button onClick={disableEdit}>Done</Button>\r\n                  ) : (\r\n                    <Button onClick={enableEdit}>Edit</Button>\r\n                  )}\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {foundUsers && foundUsers.length > 0 ? (\r\n                paginatedFilteredUsers.map((user) =>\r\n                  rowEditing === user.id ? (\r\n                    <Fragment>\r\n                      <EditableOnlyRow\r\n                        user={user}\r\n                        isediting={isediting}\r\n                        Ondelete={props.Ondelete}\r\n                        editFormData={editFormData}\r\n                        editFormChangeHandler={editFormChangeHandler}\r\n                        onSave={editFormSubmit}\r\n                      />\r\n                    </Fragment>\r\n                  ) : (\r\n                    <Fragment>\r\n                      <ReadOnlyRow\r\n                        user={user}\r\n                        isediting={isediting}\r\n                        rowEditing={editFormHandler}\r\n                        Ondelete={props.Ondelete}\r\n                      />\r\n                    </Fragment>\r\n                  )\r\n                )\r\n              ) : (\r\n                <h3>No results found!</h3>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n     \r\n        </form>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default SearchUserListEditable;\r\n"]},"metadata":{},"sourceType":"module"}